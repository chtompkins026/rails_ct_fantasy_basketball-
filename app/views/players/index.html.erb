<h1> Welcome! Below are all players in the league</h1>
<p> If marked available, select "Add" to add the player to your roster</p>

<h4> Search for Player by Name </h4>
  <%= form_tag(players_path, method: :get) do %>
   <%= text_field(:search, params[:search]) %>
   <%= submit_tag ("Search") %>
   <% end %>

<table class="table table-hover players">
  <thead>
    <tr>
      <th> No. </th>
      <th> Name </th>
      <th> Position </th>
      <th> NBA Team </th>
      <th> Add Player </th>
    </tr>
  </thead>
  <tbody>
    <% @players.each_with_index do |pl, index| %>
      <tr>
        <td> <%= index + 1%> </td>
        <td> <%= link_to "#{pl.name}", player_path(pl)%></td>
        <td> <%= pl.position %> </td>
        <td> <%=pl.nba_team %> </td>
        <% if pl.team_id.nil? %>
        <td> <%= button_to "Add Player", action: "create", params: { id: pl.id, name: pl.name, position: pl.position,
          nba_team: pl.nba_team, points: pl.points, team_id: @team_id, user_id: @user.id, league_id: @league_id}%> </td>
        <% else %>
          <td> Player Not Available </td>
        <% end %>
      </tr>
    <%end%>
  </tbody>
</table>
